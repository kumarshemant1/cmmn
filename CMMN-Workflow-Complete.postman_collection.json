{
	"info": {
		"name": "CMMN Workflow API - Complete",
		"description": "Complete API collection for CMMN Workflow Service with frequency scheduling, drawflow support, automatic CMMN file generation, and UUID-based caseInstanceId",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"variable": [
		{
			"key": "baseUrl",
			"value": "http://localhost:8080"
		}
	],
	"item": [
		{
			"name": "Workflows",
			"item": [
				{
					"name": "Create Monthly Workflow (Auto-scheduled)",
					"request": {
						"method": "POST",
						"header": [{"key": "Content-Type", "value": "application/json"}],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Monthly Report Workflow\",\n  \"frequency\": \"MONTHLY\",\n  \"executionTime\": \"09:00:00\",\n  \"nthWorkingDay\": 4,\n  \"drawflowData\": {\n    \"nodes\": {\n      \"1\": {\"name\": \"upload T1 file\", \"type\": \"UPLOAD\", \"pos_x\": 100, \"pos_y\": 100},\n      \"2\": {\"name\": \"upload T2 file\", \"type\": \"UPLOAD\", \"pos_x\": 100, \"pos_y\": 200},\n      \"3\": {\"name\": \"review files\", \"type\": \"REVIEW\", \"pos_x\": 300, \"pos_y\": 150},\n      \"4\": {\"name\": \"consolidate reports\", \"type\": \"CONSOLIDATE\", \"pos_x\": 500, \"pos_y\": 150}\n    },\n    \"connections\": {\"1\": [\"3\"], \"2\": [\"3\"], \"3\": [\"4\"]}\n  },\n  \"tasks\": [\n    {\"id\": \"1\", \"name\": \"upload T1 file\", \"taskType\": \"UPLOAD\", \"position\": {\"x\": 100, \"y\": 100}, \"connections\": [\"3\"]},\n    {\"id\": \"2\", \"name\": \"upload T2 file\", \"taskType\": \"UPLOAD\", \"position\": {\"x\": 100, \"y\": 200}, \"connections\": [\"3\"]},\n    {\"id\": \"3\", \"name\": \"review files\", \"taskType\": \"REVIEW\", \"position\": {\"x\": 300, \"y\": 150}, \"connections\": [\"4\"]},\n    {\"id\": \"4\", \"name\": \"consolidate reports\", \"taskType\": \"CONSOLIDATE\", \"position\": {\"x\": 500, \"y\": 150}, \"connections\": []}\n  ]\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/workflows/definition",
							"host": ["{{baseUrl}}"],
							"path": ["api", "workflows", "definition"]
						}
					}
				},
				{
					"name": "Create Daily Workflow (Auto-scheduled)",
					"request": {
						"method": "POST",
						"header": [{"key": "Content-Type", "value": "application/json"}],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Daily Report Workflow\",\n  \"frequency\": \"DAILY\",\n  \"executionTime\": \"08:30:00\",\n  \"drawflowData\": {\n    \"nodes\": {\n      \"1\": {\"name\": \"upload file\", \"type\": \"UPLOAD\", \"pos_x\": 100, \"pos_y\": 100},\n      \"2\": {\"name\": \"review\", \"type\": \"REVIEW\", \"pos_x\": 300, \"pos_y\": 100}\n    },\n    \"connections\": {\"1\": [\"2\"]}\n  },\n  \"tasks\": [\n    {\"id\": \"1\", \"name\": \"upload file\", \"taskType\": \"UPLOAD\", \"position\": {\"x\": 100, \"y\": 100}, \"connections\": [\"2\"]},\n    {\"id\": \"2\", \"name\": \"review\", \"taskType\": \"REVIEW\", \"position\": {\"x\": 300, \"y\": 100}, \"connections\": []}\n  ]\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/workflows/definition",
							"host": ["{{baseUrl}}"],
							"path": ["api", "workflows", "definition"]
						}
					}
				},
				{
					"name": "Create Weekly Workflow (Auto-scheduled)",
					"request": {
						"method": "POST",
						"header": [{"key": "Content-Type", "value": "application/json"}],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Weekly Report Workflow\",\n  \"frequency\": \"WEEKLY\",\n  \"executionTime\": \"10:00:00\",\n  \"nthWorkingDay\": 5,\n  \"drawflowData\": {\n    \"nodes\": {\n      \"1\": {\"name\": \"consolidate weekly data\", \"type\": \"CONSOLIDATE\", \"pos_x\": 200, \"pos_y\": 100}\n    },\n    \"connections\": {}\n  },\n  \"tasks\": [\n    {\"id\": \"1\", \"name\": \"consolidate weekly data\", \"taskType\": \"CONSOLIDATE\", \"position\": {\"x\": 200, \"y\": 100}, \"connections\": []}\n  ]\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/workflows/definition",
							"host": ["{{baseUrl}}"],
							"path": ["api", "workflows", "definition"]
						}
					}
				},
				{
					"name": "Get All Workflows (with caseInstanceId)",
					"request": {
						"method": "GET",
						"url": {
							"raw": "{{baseUrl}}/api/workflows",
							"host": ["{{baseUrl}}"],
							"path": ["api", "workflows"]
						}
					}
				},
				{
					"name": "Get Workflow by ID (with caseInstanceId)",
					"request": {
						"method": "GET",
						"url": {
							"raw": "{{baseUrl}}/api/workflows/1",
							"host": ["{{baseUrl}}"],
							"path": ["api", "workflows", "1"]
						}
					}
				},
				{
					"name": "Start Additional Workflow Instance",
					"request": {
						"method": "POST",
						"url": {
							"raw": "{{baseUrl}}/api/workflows/1/start",
							"host": ["{{baseUrl}}"],
							"path": ["api", "workflows", "1", "start"]
						}
					}
				},
				{
					"name": "Trigger Workflow (Deploy & Execute with UUID)",
					"request": {
						"method": "POST",
						"url": {
							"raw": "{{baseUrl}}/api/workflows/1/trigger",
							"host": ["{{baseUrl}}"],
							"path": ["api", "workflows", "1", "trigger"]
						}
					}
				}
			]
		},
		{
			"name": "Tasks",
			"item": [
				{
					"name": "Get Task by ID",
					"request": {
						"method": "GET",
						"url": {
							"raw": "{{baseUrl}}/api/tasks/1",
							"host": ["{{baseUrl}}"],
							"path": ["api", "tasks", "1"]
						}
					}
				},
				{
					"name": "Upload File to Task",
					"request": {
						"method": "POST",
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "file",
									"type": "file",
									"src": []
								}
							]
						},
						"url": {
							"raw": "{{baseUrl}}/api/tasks/1/upload",
							"host": ["{{baseUrl}}"],
							"path": ["api", "tasks", "1", "upload"]
						}
					}
				},
				{
					"name": "Complete Task",
					"request": {
						"method": "PUT",
						"url": {
							"raw": "{{baseUrl}}/api/tasks/1/complete",
							"host": ["{{baseUrl}}"],
							"path": ["api", "tasks", "1", "complete"]
						}
					}
				}
			]
		},
		{
			"name": "Files",
			"item": [
				{
					"name": "Download File",
					"request": {
						"method": "GET",
						"url": {
							"raw": "{{baseUrl}}/api/files/1/download",
							"host": ["{{baseUrl}}"],
							"path": ["api", "files", "1", "download"]
						}
					}
				}
			]
		}
	]
}